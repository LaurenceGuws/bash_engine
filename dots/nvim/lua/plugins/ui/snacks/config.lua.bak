-- Configuration options for snacks.nvim

return {
	bigfile = { enabled = true },
	dashboard = {
		enabled = true,
		pane_gap = 6,
		sections = {
			{ section = "header" },
			{ 
				section = "keys", 
				title = "Files",
				icon = " ",
				gap = 1, 
				padding = 1,
				keys = {
					{ icon = " ", key = "f", desc = "Find Files", action = ":Telescope find_files" },
					{ icon = " ", key = "o", desc = "Recent Files", action = ":Telescope oldfiles" },
					{ icon = " ", key = "g", desc = "Live Grep", action = ":Telescope live_grep" },
					{ icon = " ", key = "b", desc = "Buffers", action = ":Telescope buffers" },
					{ icon = " ", key = "?", desc = "Help Tags", action = ":Telescope help_tags" },
				},
			},
			{
				pane = 2,
				section = "keys",
				title = "Tools",
				icon = "󰒲 ",
				padding = 1,
				gap = 1,
				keys = {
					{ icon = "  ", key = "e", desc = "Explorer", action = "Snacks explorer" },
					{ icon = "  ", key = "t", desc = "Terminal", action = "lua require('snacks.terminal').toggle()" },
					{ icon = "  ", key = "m", desc = "Mason", action = "Mason" },
					{ icon = " ", key = "d", desc = "Diagnostics", action = ":Telescope diagnostics" },
					{ icon = "  ", key = "q", desc = "Quit", action = ":qa" },
				},
			},
			{ section = "startup" },
		},
		preset = {
			header = [[
░█▀█░█▀▀░█▀█░█░█░▀█▀░█▄█
░█░█░█▀▀░█░█░▀▄▀░░█░░█░█
░▀░▀░▀▀▀░▀▀▀░░▀░░▀▀▀░▀░▀
]],
		},
	},
	explorer = { enabled = true, replace_netrw = true },
	image = { enabled = true },
	indent = { enabled = true },
	input = { enabled = true, override_ui = true },
	notifier = { enabled = false, timeout = 0, popups = false },
	picker = { enabled = true, override_ui = false },
	quickfile = { enabled = true },
	scope = { enabled = true },
	scroll = { enabled = true },
	statuscolumn = { enabled = true },
	terminal = {
		enabled = true,
		win = { style = "terminal", border = "rounded" },
		shell = vim.o.shell,
	},
	toggle = { enabled = true, notify = true, which_key = true },
	words = { enabled = true },
	styles = {
		notification = {},
		terminal = {
			bo = { filetype = "snacks_terminal" },
			wo = {},
			keys = {
				q = "hide",
				term_normal = {
					"<esc>",
					function(self)
						self.esc_timer = self.esc_timer or (vim.uv or vim.loop).new_timer()
						if self.esc_timer:is_active() then
							self.esc_timer:stop()
							vim.cmd("stopinsert")
						else
							self.esc_timer:start(200, 0, function() end)
							return "<esc>"
						end
					end,
					mode = "t",
					expr = true,
					desc = "Double escape to normal mode",
				},
			},
		},
	},
}
